#!/bin/sh

if [ -z "${1}" ]; then
  skiplocal='-e s/127.0.0.1//g'
fi

ifconfig ${1} | \
  sed -e 's/broadcast.*//g' -e 's/netmask.*//g' ${skiplocal} | \
  egrep -v "lladdr" | \
  egrep -o "([0-9]{1,3}\.){3}[0-9]{1,3}" | \
  tr '\n' '~' | \
  sed 's/~/   /g'

